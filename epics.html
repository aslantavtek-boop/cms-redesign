<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aeronautical Billing System - Epics & Stories</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            padding: 2rem 1rem;
            color: #e2e8f0;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            opacity: 0;
            transition: opacity 0.6s ease-in-out;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        header {
            text-align: center;
            margin-bottom: 4rem;
            padding: 2rem 0;
        }

        h1 {
            color: #f1f5f9;
            font-size: 3rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            letter-spacing: -0.02em;
        }

        .subtitle {
            color: #94a3b8;
            font-size: 1.25rem;
            font-weight: 400;
            letter-spacing: -0.01em;
            margin-bottom: 1.5rem;
        }
        
        .header-nav {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        
        .nav-link {
            padding: 0.75rem 1.5rem;
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            color: #e2e8f0;
            text-decoration: none;
            border-radius: 10px;
            font-size: 0.9375rem;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.4);
            background: rgba(6, 182, 212, 0.3);
            border-color: #06b6d4;
        }
        
        .nav-link.active {
            background: rgba(6, 182, 212, 0.3);
            border-color: #06b6d4;
            color: #06b6d4;
        }

        .content {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 18px;
            padding: 3.5rem 3rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .epics-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .epic-card {
            background: rgba(15, 23, 42, 0.5);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .epic-card:hover {
            border-color: rgba(6, 182, 212, 0.5);
            box-shadow: 0 4px 16px rgba(6, 182, 212, 0.2);
        }

        .epic-header {
            padding: 1.5rem 2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background 0.3s ease;
            user-select: none;
        }

        .epic-header:hover {
            background: rgba(6, 182, 212, 0.1);
        }

        .epic-title-section {
            flex: 1;
        }

        .epic-number {
            display: inline-block;
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .epic-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #f1f5f9;
            margin-bottom: 0.5rem;
        }

        .epic-description {
            font-size: 0.9375rem;
            color: #94a3b8;
            line-height: 1.6;
        }

        .epic-toggle {
            font-size: 1.5rem;
            color: #06b6d4;
            transition: transform 0.3s ease;
        }

        .epic-card.expanded .epic-toggle {
            transform: rotate(180deg);
        }

        .stories-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease, padding 0.3s ease;
            padding: 0 2rem;
        }

        .epic-card.expanded .stories-container {
            max-height: 3000px;
            padding: 0 2rem 1.5rem 2rem;
        }

        .story-item {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 10px;
            padding: 1.25rem 1.5rem;
            margin-bottom: 1rem;
            border-left: 3px solid #06b6d4;
            transition: all 0.3s ease;
        }

        .story-item:hover {
            transform: translateX(8px);
            background: rgba(30, 41, 59, 0.8);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .story-item:last-child {
            margin-bottom: 0;
        }

        .story-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: #f1f5f9;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .story-number {
            background: rgba(6, 182, 212, 0.2);
            color: #06b6d4;
            padding: 0.125rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .story-description {
            font-size: 0.875rem;
            color: #cbd5e1;
            line-height: 1.6;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #94a3b8;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
            }
            
            .header-nav {
                flex-direction: column;
                gap: 0.75rem;
            }
            
            .nav-link {
                width: 100%;
                text-align: center;
            }

            .content {
                padding: 2rem 1.5rem;
            }

            .epic-header {
                padding: 1rem 1.5rem;
            }

            .epic-title {
                font-size: 1.25rem;
            }

            .stories-container {
                padding: 0 1.5rem;
            }

            .epic-card.expanded .stories-container {
                padding: 0 1.5rem 1.5rem 1.5rem;
            }

            .story-item {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Aeronautical Billing System</h1>
            <p class="subtitle">Epics & User Stories</p>
            <div class="header-nav">
                <a href="aeronautical-billing-dashboard.html" class="nav-link">ðŸ“Š Business Flow Dashboard</a>
                <a href="prd.html" class="nav-link">ðŸ“„ Product Requirements</a>
                <a href="proactive-vs-leakage.html" class="nav-link">âš¡ Proactive vs. Leakage</a>
                <a href="proactive_alerts_flow.html" class="nav-link">ðŸ§­ Proactive Alerts AkÄ±ÅŸ</a>
                <a href="epics.html" class="nav-link active">ðŸ“‹ Epics & Stories</a>
            </div>
        </header>

        <div class="content">
            <div class="epics-container" id="epicsContainer">
                <!-- Epics will be loaded here dynamically -->
            </div>
        </div>
    </div>

    <script>
        // Epic and Story data structure
        const epicsData = [
            {
                id: 1,
                title: "EPIC 1 â€” Service Definition Module (Servis TanÄ±mlama ModÃ¼lÃ¼)",
                description: "Bu modÃ¼l; havalimanÄ±nda kullanÄ±lacak tÃ¼m servislerin ne olduÄŸunu, nasÄ±l Ã¶lÃ§Ã¼ldÃ¼ÄŸÃ¼nÃ¼ ve nasÄ±l fiyatlandÄ±ÄŸÄ±nÄ± tanÄ±mlar. Servisin hangi uÃ§uÅŸa ne zaman ve hangi koÅŸulda atanacaÄŸÄ± bu modÃ¼lÃ¼n konusu deÄŸildir.",
                stories: [
                    {
                        id: "1.1",
                        title: "Servisin Temel TanÄ±mÄ±",
                        description: "As a Billing Admin, I want to define service master data so that services can be consistently used across billing and operations. AC: Servis adÄ± (Ã§ok dilli), aÃ§Ä±klama, aktif/pasif durumu, Ã¼cretli iÅŸareti, dinamik Service Group, servis kategorisi (Arrival/Departure/Turnaround/All) tanÄ±mlanabilir."
                    },
                    {
                        id: "1.2",
                        title: "Dinamik Service Group YÃ¶netimi",
                        description: "As a Billing Admin, I want to manage service groups dynamically so that services can be categorized per airport needs. AC: Yeni grup eklenebilir, grup adÄ±/aÃ§Ä±klama (Ã§ok dilli) girilebilir, grup aktif/pasif yapÄ±labilir, pasif gruplar gÃ¶rÃ¼nmez, servisler gruplara baÄŸlanabilir."
                    },
                    {
                        id: "1.3",
                        title: "Measurement Type TanÄ±mÄ±",
                        description: "As a Billing Admin, I want to define the measurement type so that the system knows how the service is measured. Measurement Types: TIME, QUANTITY, LOAD-BASED, MTOW-BASED, EVENT, AGGREGATED. AC: Measurement type seÃ§ildiÄŸinde ilgili alanlar dinamik aÃ§Ä±lÄ±r, gereksiz alanlar gizlenir."
                    },
                    {
                        id: "1.4",
                        title: "TIME-Based Servis KonfigÃ¼rasyonu",
                        description: "As a Billing Admin, I want to configure time attributes so that duration-based services can be calculated correctly. AC: Start event (ATA, ATD, AIBT, AOBT, ETA, ETD, Boarding) ve offset, End event ve offset, Calculation Method (Fixed/Actual Data/Dynamic Formula Engine) seÃ§ilebilir."
                    },
                    {
                        id: "1.5",
                        title: "QUANTITY / LOAD / MTOW Servis KonfigÃ¼rasyonu",
                        description: "As a Billing Admin, I want to configure quantity and load-based services so that passenger, baggage, cargo or weight-based services are billed properly. AC: Pax kaynaklarÄ± (In, Out, Transfer, Transit, Infant, Crew), Load alanlarÄ± (cargo weight, mail), MTOW alanÄ± seÃ§ilebilir, Dynamic Calculation Method ile formÃ¼l yazÄ±labilir, sistem quantity/load preview gÃ¶sterir."
                    },
                    {
                        id: "1.6",
                        title: "EVENT-Based Servis KonfigÃ¼rasyonu",
                        description: "As a Billing Admin, I want to define event trigger so that the service is billed once when the event occurs. AC: Event listesi gÃ¶sterilir, tek event seÃ§ilir, event gerÃ§ekleÅŸince servis 'executed' olur, Dynamic Calculation Method seÃ§ilirse formÃ¼l yazÄ±labilir."
                    },
                    {
                        id: "1.7",
                        title: "AGGREGATED (Package) Servis TanÄ±mlama",
                        description: "As a Billing Admin, I want to define aggregated service packages so that multiple services can be billed as one. AC: Child services seÃ§ilebilir, Parent hesaplama modeli (SUM/FIXED/Dynamic formula) seÃ§ilebilir, child servisler operasyonel olarak Ã§alÄ±ÅŸmaya devam eder, tÃ¼m child servisler tamamlanmadan parent servis gÃ¶nderilemez."
                    },
                    {
                        id: "1.8",
                        title: "Equipment & Resource Gereksinimi",
                        description: "As a Billing Admin, I want to define equipment and resource dependencies so that usage-driven services are validated. AC: Equipment required iÅŸaretlenebilir, Equipment type (GPU, PCA, 400Hz, Busâ€¦), Resource type (Stand, Gate, Counter), Sub-type (Bridge, Remoteâ€¦) seÃ§ilebilir."
                    }
                ]
            },
            {
                id: 2,
                title: "EPIC 2 â€” Service Provider Management",
                description: "Bu modÃ¼l servislerin hangi saÄŸlayÄ±cÄ± tarafÄ±ndan verildiÄŸini yÃ¶netir.",
                stories: [
                    {
                        id: "2.1",
                        title: "Service Provider Definition",
                        description: "As a Billing Admin, I want to define providers so that services can be assigned to operational entities. AC: Servis saÄŸlayÄ±cÄ± adÄ± (Ã§ok dilli) girilebilir, saÄŸlayÄ±cÄ± tipi (Airport, GH, Airline, Vendor) seÃ§ilir, aktif/pasif yapÄ±labilir."
                    },
                    {
                        id: "2.2",
                        title: "Provider Assignment",
                        description: "As a Billing Admin, I want to assign providers to services so that billing ownership is clear. AC: Bir servise birden fazla provider atanabilir, default provider seÃ§ilebilir."
                    }
                ]
            },
            {
                id: 3,
                title: "EPIC 3 â€” Dynamic Calculation Formula Engine",
                description: "Bu modÃ¼l 'Calculation Method = Dynamic' olduÄŸunda tÃ¼m servis tipleri iÃ§in Ã§alÄ±ÅŸÄ±r.",
                stories: [
                    {
                        id: "3.1",
                        title: "Unified Formula Editor",
                        description: "As a Billing Admin, I want to write formulas so that services can be calculated dynamically. AC: FormÃ¼l TIME, QUANTITY, LOAD, MTOW, EVENT, AGGREGATED iÃ§in geÃ§erlidir, flight/pax/service/equipment/resource alanlarÄ± kullanÄ±labilir, syntax validation yapÄ±lÄ±r, preview sonucu gÃ¶sterilir."
                    },
                    {
                        id: "3.2",
                        title: "Formula Variable Dictionary",
                        description: "As a Billing Admin, I want to view available variables so that I can build correct formulas. AC: flight.*, pax.*, service.*, equipment.*, resource.* alanlarÄ± listelenir."
                    }
                ]
            },
            {
                id: 4,
                title: "EPIC 4 â€” Service Assignment Rule Engine",
                description: "Bu modÃ¼l servislerin hangi uÃ§uÅŸlara otomatik alÄ±nacaÄŸÄ±nÄ± ve hangi durumlarda devre dÄ±ÅŸÄ± kalacaÄŸÄ±nÄ± yÃ¶netir.",
                stories: [
                    {
                        id: "4.1",
                        title: "Restriction Rules (Applicable / Not Applicable)",
                        description: "As a Billing Admin, I want to define restriction rules so that invalid services are prevented. AC: Flight attribute seÃ§ilir, operator (=, !=, >, in, not in) seÃ§ilir, value girilir, rule sonucu Applicable/Not Applicable, AND/OR desteklenir."
                    },
                    {
                        id: "4.2",
                        title: "Condition-Based Auto Assignment",
                        description: "As a Billing Admin, I want to define auto-assign rules so that services are created automatically. AC: Attribute + operator + value ile rule yazÄ±lÄ±r, koÅŸul saÄŸlanÄ±rsa servis eklenir."
                    },
                    {
                        id: "4.3",
                        title: "Timing Rules (Planned Start/End)",
                        description: "As a Billing Admin, I want to define planned timing so that service times are calculated dynamically. AC: Event + offset yazÄ±labilir, dynamic duration hesaplanabilir."
                    },
                    {
                        id: "4.4",
                        title: "Flight Data Triggered Auto Service Assignment",
                        description: "As a Billing Admin, I want to assign services based on flight data entry so that services are created when operational data is entered. AC: Tetikleyiciler desteklenir (Passenger data â†’ Passenger Services, Counter assignment â†’ Counter Usage, Gate â†’ Gate Usage, Stand â†’ Parking, Load data â†’ Baggage/Cargo, Equipment usage â†’ GPU/PCA, Boarding â†’ Boarding Services), veri silinirse servis kaldÄ±rÄ±lÄ±r, duplicate oluÅŸmaz, audit log'a girer."
                    },
                    {
                        id: "4.5",
                        title: "Manual Service Assignment via Web",
                        description: "As a Billing Operator, I want to manually add services to a flight from the web application so that missing or exceptional services can be created by operations staff. AC: Web'de 'Add Service' butonu, sistemdeki tÃ¼m servisler listeden seÃ§ilebilir, measurement type/provider/planned time otomatik yÃ¼klenir, kullanÄ±cÄ± quantity/actual time/equipment/provider dÃ¼zenleyebilir, restriction rule kontrolÃ¼ yapÄ±lÄ±r (override edilebilir), duplicate engellenir, audit log'a 'Manually added via web by user X at time Y' kaydedilir."
                    },
                    {
                        id: "4.6",
                        title: "Manual Service Assignment via Mobile",
                        description: "As a Ground Operations Staff, I want to manually add services via mobile application so that services can be recorded instantly on the field. AC: Mobil uÃ§uÅŸ detay ekranÄ±nda 'Add Service' bulunur, servis listesi mobil uyumlu, kullanÄ±cÄ± service type/equipment/actual start-end/quantity girebilir, sistem provider/planned time/default settings otomatik doldurur, offline senaryo desteklenir (local cache + sync), mobile entry iÅŸaretlenir (Source = Mobile App), duplicate kontrolÃ¼, exception uyarÄ±larÄ±."
                    }
                ]
            },
            {
                id: 5,
                title: "EPIC 5 â€” Flight & Service Validations (Billing Awareness & Control Layer)",
                description: "Bu EPIC; Billing sisteminin AODB'den gelen uÃ§uÅŸ verilerini deÄŸiÅŸtirmeden, yalnÄ±zca kontrol etmesini, uyarmasÄ±nÄ± ve gÃ¶rÃ¼nÃ¼r kÄ±lmasÄ±nÄ± saÄŸlar. Billing sistemi flight verisini dÃ¼zeltmez/bloklamaz, sadece problem tespit eder. Service tarafÄ±nda ise error/warning ayrÄ±mÄ± yapÄ±lÄ±r ve blocking kurallar olabilir.",
                stories: [
                    {
                        id: "5.1",
                        title: "Flight Data Awareness Rules (WARNING Only)",
                        description: "As a Billing User, I want to see warnings about problematic flight data coming from AODB so that I am aware of potential billing risks. AC: Billing sistemi ETA/ETD, ATA/ATD, AIBT/AOBT, Aircraft Type, Stand/Gate, Pax/Load, MTOW, Flight Category, Airline alanlarÄ±nÄ± kontrol edebilir. Ã–NEMLI: Flight validations MUST ALWAYS RESULT IN WARNING only (no blocking, no rejection, no modification). Ã–rnek kurallar: IF AOBT < AIBT THEN Warning, IF PaxOut > AircraftCapacity THEN Warning. KullanÄ±cÄ± uyarÄ±lÄ±r, ek aksiyon engellenmez, uyarÄ±lar dashboard'a dÃ¼ÅŸer, kayÄ±tlar bloklanmaz."
                    },
                    {
                        id: "5.2",
                        title: "Service Usage Validations (ERROR + WARNING)",
                        description: "As a Billing Admin, I want to validate service usage entries so that wrong billing records can be prevented. AC: Service tarafÄ±nda Error (IF Service.EndTime > AOBT, IF Same Service added twice, IF Event-based Service triggered twice) ve Warning (IF GPU.StartTime < ATA, IF Service.StartTime unusually long) oluÅŸturabilir. DavranÄ±ÅŸ: Warning â†’ Bildirim, iade edilmez | Error â†’ Servis kaydÄ± engellenir."
                    },
                    {
                        id: "5.3",
                        title: "Station-Based Validation Configuration",
                        description: "As a Billing Admin, I want to manage validations per airport so that each station can apply its local business logic. AC: Her airport iÃ§in ayrÄ± validation seti olabilir, global validation + station override Ã§alÄ±ÅŸÄ±r, station kuralÄ± kapatabilir/yeni kural ekleyebilir/severity deÄŸiÅŸtirebilir."
                    },
                    {
                        id: "5.4",
                        title: "Validation Dashboard (Alert Grid)",
                        description: "As a Billing User, I want to see all validation problems in one place so that I can detect risk before invoicing. AC: Grid alanlarÄ± (Airport, Flight No, Date, Validation Type, Service Name, Severity, Message, Field, Detected Time, Source, Status). Filtreler: Airport, Severity, Date, Service Type, Rule Type. Aksiyonlar: Go to Flight, Go to Service, Mark as Acknowledged/Ignored, Export (Excel/PDF)."
                    },
                    {
                        id: "5.5",
                        title: "Alert & Notification",
                        description: "As a Billing Supervisor, I want to receive alerts for service-related errors so that billing risks are not missed. AC: Flight WARNING â†’ sadece dashboard, Service ERROR â†’ UI Alert + Email/push (opsiyonel), severity'ye gÃ¶re kanal deÄŸiÅŸir."
                    },
                    {
                        id: "5.6",
                        title: "Validation Rule Management",
                        description: "As a Billing Admin, I want to define validation rules dynamically so that no code change is needed for new controls. AC: Rule Builder desteklenir (Attribute, Operator, Value, Severity), Rule: Flight iÃ§in â†’ sadece Warning, Service iÃ§in â†’ Warning/Error olabilir, rule test edilebilir, versiyonlama yapÄ±lÄ±r, audit log tutulur."
                    }
                ]
            },
            {
                id: 6,
                title: "EPIC 6 â€” Near Real-Time Billing Charging & Flight Readiness Management",
                description: "Bu EPIC'in amacÄ±: UÃ§uÅŸ operasyonu bittiÄŸinde Ã¼cretlendirme sÃ¼recini baÅŸlatmak, mÃ¼ÅŸteri ve servis bazÄ±nda otomatik/manuel akÄ±ÅŸlarÄ± yÃ¶netmek, gecikmeli tetiklemeyi desteklemek, uÃ§uÅŸu 'billing-ready' duruma almak, ERP'ye gidecek kayÄ±tlarÄ± gÃ¼venli hale getirmek. Billing sistemi ÅŸunu yÃ¶netir: 'Bu uÃ§uÅŸ ne zaman Ã¼cretlendirilmeli ve ne zaman ERP'ye gÃ¶nderilmeli?'",
                stories: [
                    {
                        id: "6.1",
                        title: "Customer & Service Based Charging Mode Configuration",
                        description: "As a Billing Admin, I want to configure charging mode per customer and per service so that billing process can be automatic or manual depending on contract. AC: Her mÃ¼ÅŸteri iÃ§in Charging Mode (AUTO/MANUAL) seÃ§ilebilir, her servis iÃ§in charging mode override edilebilir, Ã¶ncelik kuralÄ±: Service-level config > Customer-level config. Ã–rn: Airline A iÃ§in her ÅŸey otomatik, Deicing manuel olabilir."
                    },
                    {
                        id: "6.2",
                        title: "Configurable Auto-Charging Trigger Time",
                        description: "As a Billing Admin, I want to define when auto-charging should start so that billing can be delayed if required. AC: Otomatik akÄ±ÅŸ seÃ§ildiyse charging tetikleme zamanÄ± konfigÃ¼re edilebilir (T0 = Operation completed, T + X minutes/hours/days). Trigger baÅŸlangÄ±cÄ± event'lere baÄŸlanabilir: AOBT reached, Last mandatory service completed, Aggregated service completed, Custom rule event (Rule Engine)."
                    },
                    {
                        id: "6.3",
                        title: "Manual Charging Trigger (Customer Override)",
                        description: "As a Billing User, I want to manually start charging for a flight so that I do not wait for the auto schedule. AC: UI'da 'Start Billing' butonu bulunur, kullanÄ±cÄ± manuel olarak sÃ¼reci tetikleyebilir, manuel tetikleme audit log'a dÃ¼ÅŸer, manuel tetikleme otomatik schedule'i override eder."
                    },
                    {
                        id: "6.4",
                        title: "Partial Success Handling (Service-Level)",
                        description: "As a Billing System, I want to allow partial success on invoice preparation so that valid services are not blocked due to individual failures. AC: Otomatik sÃ¼reÃ§ Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda her servis baÄŸÄ±msÄ±z iÅŸlenir, hata alan servisler ERROR statÃ¼sÃ¼nde kalÄ±r, baÅŸarÄ±lÄ± servisler READY FOR BILLING iÅŸaretlenir. KURAL: Aggregated services hariÃ§, bir paketin child servislerinden biri hatalÄ±ysa â†’ parent servis 'FAILED' olur."
                    },
                    {
                        id: "6.5",
                        title: "Flight-Level Readiness & ERP Blocking Rule",
                        description: "As a Billing System, I want to prevent ERP export until flight is fully completed so that incomplete billings are not sent. AC: UÃ‡UÅž bazÄ±nda tÃ¼m mandatory services tamamlanmadan ERP'ye gÃ¶nderim yapÄ±lmaz, servis seviyesinde hatalÄ± olmayan servisler billing state alÄ±r. Flight state = 'READY FOR ERP' olmasÄ± iÃ§in: HiÃ§ ERROR statÃ¼sÃ¼nde servis kalmamalÄ±, aggregated servislerin tamamÄ± tamamlanmÄ±ÅŸ olmalÄ±."
                    },
                    {
                        id: "6.6",
                        title: "Auto Recalculation Until Lock",
                        description: "As a Billing System, I want to recalculate billing until flight is locked so that latest data is always used. AC: Lock Ã¶ncesinde yeni servis girilirse veya deÄŸer deÄŸiÅŸirse â†’ otomatik recalculation yapÄ±lÄ±r. Lock sonrasÄ± deÄŸiÅŸiklik iÃ§in manuel unlock gerekir."
                    },
                    {
                        id: "6.7",
                        title: "Charging Status & Monitoring Panel",
                        description: "As a Billing User, I want to monitor charging progress so that I can see where billing is stuck."
                    }
                ]
            },
            {
                id: 7,
                title: "EPIC 7 â€” Leakage Detection & Revenue Protection",
                description: "Detect unbilled services, data inconsistencies, and behavioral anomalies using historical patterns, live data, and external evidence to prevent revenue leakage. Bu modÃ¼l faturayÄ± bloklamaz, ERP akÄ±ÅŸÄ±nÄ± durdurmaz, ancak risk Ã¼retir, gÃ¶rÃ¼nÃ¼r kÄ±lar ve kanÄ±t sunar.",
                stories: [
                    {
                        id: "7.1",
                        title: "Similar Flight Pattern Detection",
                        description: "As a Leakage Analytics Engine, I want to identify flights with similar operational profiles so that missing services can be detected statistically. AC: Benzerlik kriterleri (Airline, Aircraft, Route, Time Window, Stand), sistem peer flight set Ã¼retir, servis olasÄ±lÄ±k yÃ¼zdeleri Ã§Ä±karÄ±lÄ±r, high-probability servis yoksa 'expected service missing' Ã¼retilir."
                    },
                    {
                        id: "7.2",
                        title: "Service Sequence Integrity",
                        description: "As a Leakage Engine, I want to learn execution order patterns so that broken operational chains are detected. AC: Tipik uÃ§uÅŸ zinciri modellenir, ara halka yoksa anomaly score yÃ¼kselir."
                    },
                    {
                        id: "7.3",
                        title: "Behavioral Baseline Modeling",
                        description: "As a Leakage Engine, I want to learn historical service ratios so that expected behavior is known. AC: Airline + Aircraft Type bazlÄ± service probability profili, %90+ expected service missing â†’ risk Ã¼retir."
                    },
                    {
                        id: "7.4",
                        title: "Turnaround Duration Analysis",
                        description: "As a Leakage System, I want to analyze parking time so that time-based service necessity is evaluated. AC: AIBTâ€“AOBT hesaplanÄ±r, threshold aÅŸÄ±lÄ±rsa risk artar."
                    },
                    {
                        id: "7.5",
                        title: "FlightRadar24 Validation",
                        description: "As a Leakage Engine, I want to validate aircraft behavior using FR24 so that system data is confirmed. AC: FR24 API entegrasyonu, parking/time mismatch â†’ confidence score yÃ¼kselir."
                    },
                    {
                        id: "7.6",
                        title: "Confidence Scoring Engine",
                        description: "As a Leakage Detection System, I want to compute confidence scores so that alerts are classified. AC: Multiple signal â†’ total score, levels: LOW / MEDIUM / HIGH."
                    },
                    {
                        id: "7.7",
                        title: "Leakage Monitoring Dashboard",
                        description: "As a Billing User, I want to see leakage alerts so that investigation is easy. AC: Dashboard kolonlarÄ±: Flight, Missing Service, Score, Explanation, FR24 Match, Status."
                    },
                    {
                        id: "7.8",
                        title: "Risk Scoring Rule Management",
                        description: "As a Billing Admin, I want to configure scoring logic so that alert sensitivity is controlled. AC: Weight ayarlarÄ±, threshold deÄŸerleri, Airline / Airport override."
                    },
                    {
                        id: "7.9",
                        title: "Feedback & Learning Loop",
                        description: "As a Leakage System, I want to learn from user actions so that accuracy improves. AC: False positive oranÄ± dÃ¼ÅŸÃ¼rÃ¼lÃ¼r, weights auto-tune edilir."
                    },
                    {
                        id: "7.10",
                        title: "Audit & Evidence Traceability",
                        description: "As an Auditor, I want to see anomaly rationale so that decisions are defendable. AC: Rule match logs, FR24 snapshot, peer group list."
                    },
                    {
                        id: "7.11",
                        title: "Cross-Source Reconciliation & Dashboard",
                        description: "As a Billing User, I want to compare data from multiple sources so that inconsistencies become visible. AC: KÄ±yaslanan alanlar (Pax, Load, Weight, Fuel, Times), fark Absolute/Percentage olarak hesaplanÄ±r, UI'da gÃ¶sterilir: Source A, Source B, Difference, Status."
                    },
                    {
                        id: "7.12",
                        title: "Source Traceability & Provenance",
                        description: "As a Billing User, I want to see data lineage so that I know where values came from. AC: Source name, timestamp, raw value, integration ID."
                    },
                    {
                        id: "7.13",
                        title: "Tolerance Rule Management",
                        description: "As a Billing Admin, I want to configure tolerances so that harmless differences are ignored. AC: Tolerance Types: Absolute Tolerance ('3 pax fark normal'), Percentage Tolerance ('%5'ten fazla fark risk demek'), Combined Tolerance ('Ä°kisinden biri aÅŸÄ±lÄ±rsa uyar')."
                    },
                    {
                        id: "7.14",
                        title: "File Upload Validation",
                        description: "As a Billing User, I want to upload Excel/CSV so that offline data can be verified. AC: Field mapping, auto compare, dashboard output."
                    },
                    {
                        id: "7.15",
                        title: "Financial Impact Estimation",
                        description: "As a Billing Manager, I want to see revenue risk so that priority is clear. AC: Risk = Missing Quantity Ã— Tariff."
                    }
                ]
            },
            {
                id: 8,
                title: "EPIC 8 â€” Customer Web Portal & Approval Workflow",
                description: "Provide a customer-facing web portal where services, billing previews, and invoices are reviewed and approved before ERP export, while also managing airline contracts and operational agreements with approval workflows. AmaÃ§: MÃ¼ÅŸterinin hizmetleri fatura Ã¶ncesi gÃ¶rmesi, onay mekanizmasÄ± oluÅŸturulmasÄ±, sessiz onay (auto-approval) desteÄŸi, ERP Ã¶ncesi final onay kapÄ±sÄ±, customerâ€“airline sÃ¶zleÅŸme doÄŸrulamasÄ±, evrak ve belge yÃ¶netimi.",
                stories: [
                    {
                        id: "8.1",
                        title: "Pre-Billing Service Approval (Customer Review)",
                        description: "As a Customer, I want to review all services provided for my flights so that I can confirm the services before billing. AC: Web portalde mÃ¼ÅŸteri flight/servis bazÄ±nda invoice preview gÃ¶rÃ¼r, alanlar gÃ¶sterilir (Flight No, Date, Service Name, Quantity/Duration, Price, Total Charge), mÃ¼ÅŸteri Accept/Reject/Request clarification seÃ§eneklerine sahip, her aksiyon loglanÄ±r, Reject/Clarification durumunda mÃ¼ÅŸteri aÃ§Ä±klama girmek zorunda, billing ekibine notification gider."
                    },
                    {
                        id: "8.2",
                        title: "Automatic Approval After Timeout",
                        description: "As a Billing System, I want to automatically approve services if customer does not respond within a defined time so that billing is not blocked. AC: MÃ¼ÅŸteri iÃ§in approval timeout (Ã¶rn: 48 saat) konfigÃ¼re edilebilir, sÃ¼re dolduÄŸunda status AUTO-APPROVED olur, auto-approval audit trail'da gÃ¶rÃ¼nÃ¼r: 'Approved by system after timeout'."
                    },
                    {
                        id: "8.3",
                        title: "ERP Pre-Export Invoice Approval",
                        description: "As a Billing Admin, I want to send final invoice data to customer for last approval before ERP export so that invoicing errors are prevented. AC: Billing tamamlandÄ±ktan sonra invoice preview customer portal'e dÃ¼ÅŸer, mÃ¼ÅŸteri final approval verir, ERP export sadece status = APPROVED ise Ã§alÄ±ÅŸÄ±r, final approval (Timestamp, User, IP) kayÄ±t altÄ±na alÄ±nÄ±r."
                    },
                    {
                        id: "8.4",
                        title: "Approval Workflow Status Tracking",
                        description: "As a Billing User, I want to track approval statuses so that I know which customers are pending. AC: Durumlar: SENT, VIEWED, APPROVED, AUTO-APPROVED, REJECTED, REVISION REQUIRED, ERP SENT. Dashboard: Customer, Flight/Invoice, Status, Time left, Last action."
                    },
                    {
                        id: "8.5",
                        title: "Contract & Airline Agreement Declaration (for GH companies)",
                        description: "As a Ground Handling Company, I want to declare which airlines I am contracted with so that service entitlement is validated. AC: GH customer airline name, contract start/end, scope (services covered) girebilir, Relation: Customer â†’ Airline â†’ Service Types, bilgiler admin onayÄ±na dÃ¼ÅŸer."
                    },
                    {
                        id: "8.6",
                        title: "Contract Verification & Approval Workflow",
                        description: "As a Billing Admin, I want to review and approve airline contracts uploaded by customers so that operational claims are trusted. AC: Admin Approve/Reject/Request correction seÃ§enekleri, onaylanmadan contract ACTIVE olmaz, red durumunda gerekÃ§e zorunlu."
                    },
                    {
                        id: "8.7",
                        title: "Document Upload & Evidence Management",
                        description: "As a Customer, I want to upload supporting documents so that service and billing claims are justified. AC: YÃ¼klenebilir dosyalar (PDF, Contract, SLA, Annex), her dokÃ¼man Airline/Validity period/Service scope ile etiketlenir, versiyon takibi yapÄ±lÄ±r."
                    },
                    {
                        id: "8.8",
                        title: "Approval Audit & History",
                        description: "As an Auditor, I want to see past approvals so that disputes can be resolved. AC: Approval history (User, Date, Action, Comment), immutable audit log tutulur."
                    },
                    {
                        id: "8.9",
                        title: "Notification & Reminder System",
                        description: "As a Billing System, I want to notify customers for pending approvals so that approval delays are minimized. AC: Notification kanallarÄ± (Email, Portal notification), reminder (+24 saat, +48 saat), auto-approval Ã¶ncesi son uyarÄ± gÃ¶nderilir."
                    },
                    {
                        id: "8.10",
                        title: "Customer Invoice Archive & Access",
                        description: "As a Customer, I want to see all previous invoices so that I can track history. AC: Portal past invoices/status/total amount gÃ¶sterir, PDF export, data immutable."
                    },
                    {
                        id: "8.11",
                        title: "Flight Locking & Deferred Integration Updates",
                        description: "As a Billing System, I want to lock the flight when it is sent to customer approval so that no billing data changes during the review process. AC: Flight approval'a gÃ¶nderildiÄŸinde status LOCKED_FOR_APPROVAL olur, lock sÄ±rasÄ±nda servis eklenemez/silinemez/deÄŸiÅŸtirilemez, entegrasyon verisi gelirse pending update olarak saklanÄ±r, kullanÄ±cÄ± bilgilendirilir, unlock sonrasÄ± pending data apply/discard edilebilir, tÃ¼m aksiyonlar audit log'a kaydedilir."
                    }
                ]
            },
            {
                id: 9,
                title: "EPIC 9 â€” Dynamic Tariff Engine",
                description: "Tarifelerin tamamen konfigÃ¼rasyonla yÃ¶netilebildiÄŸi, doÄŸal dil ile kural yazÄ±labilen, versiyonlu ve tarih bazlÄ± Ã§alÄ±ÅŸan, yayÄ±n Ã¶ncesinde simÃ¼le edilen ve onaylanan bir tarife yÃ¶netim altyapÄ±sÄ± saÄŸlamak. Bu EPIC: GeliÅŸtirme ihtiyacÄ±nÄ± ortadan kaldÄ±rÄ±r, hatalÄ± tarife yayÄ±nÄ±nÄ± engeller, gelir etkisini yayÄ±ndan Ã¶nce gÃ¶sterir.",
                stories: [
                    {
                        id: "9.1",
                        title: "Versioned & Date-Based Tariff Management",
                        description: "As a Billing Admin, I want to manage tariff versions with effective dates so that prices change automatically when the date is reached. AC: Tarifeler versiyonludur, geÃ§erlilik tarihi/saati vardÄ±r. AynÄ± tarifenin Draft/Active/Archived durumlarÄ± bulunur. Sistem tarih/saat geldiÄŸinde eski sÃ¼rÃ¼mÃ¼ devreden Ã§Ä±karÄ±r, yenisini otomatik aktive eder. GeÃ§miÅŸ faturalar eski versiyondan hesaplanmaya devam eder (immutability)."
                    },
                    {
                        id: "9.2",
                        title: "Natural Language Rule Definition",
                        description: "As a Billing Admin, I want to define tariff rules in natural language so that I don't need developer support. AC: UI'da 'Natural Language Rule' alanÄ± bulunur. Ã–rnek ifade: '01.03.2026'dan itibaren, 06:00â€“10:00 arasÄ± INTL narrow-body iÃ§in park Ã¼creti +%8'. Sistem bu ifadeyi makine kuralÄ±na Ã§evirir, yapÄ±sal formÃ¼l Ã¼retir. Syntax hatasÄ± varsa yayÄ±na izin verilmez, hata nedeni anlaÅŸÄ±lÄ±r ÅŸekilde gÃ¶sterilir."
                    },
                    {
                        id: "9.3",
                        title: "Formula Builder (UI-Based)",
                        description: "As a Billing Admin, I want to define tariff formulas via UI so that prices can use complex logic. AC: FormÃ¼lde kullanÄ±labilecek deÄŸiÅŸkenler: MTOW, Time of day, Noise category, Emission class, Apron/stand type, Pax count, Flight category (INTL/DOM). FormÃ¼l Ã¶rnekleri: BaseFee + (MTOW * Factor) + NightSurcharge, IF TimeBand = Night THEN +15%."
                    },
                    {
                        id: "9.4",
                        title: "Airport-Specific Tariff Profiles",
                        description: "As a System, I want to support different tariff logic per airport so that each airport runs its own pricing model. AC: Her airport kendi tarife ÅŸemasÄ±na sahip olabilir. Bir airport baÅŸka airport'tan ÅŸablon kopyalayabilir. Airport bazlÄ± field seti ve formula yapÄ±sÄ± deÄŸiÅŸebilir."
                    },
                    {
                        id: "9.5",
                        title: "Real-Time Simulation & Impact Analysis",
                        description: "As a Billing Admin, I want to simulate tariff changes before publishing so that financial impact is visible. AC: KullanÄ±cÄ± tarih aralÄ±ÄŸÄ± seÃ§er. Sistem eski vs yeni tarife ile hesap yapar. Ã‡Ä±ktÄ±: Gelir farkÄ±, artÄ±ÅŸ/azalÄ±ÅŸ yÃ¼zdesi, en Ã§ok etkilenen servisler. Preview mod gerÃ§ek faturayÄ± deÄŸiÅŸtirmez."
                    },
                    {
                        id: "9.6",
                        title: "Publishing & Approval Workflow",
                        description: "As a Billing Manager, I want to approve tariff changes before going live so that governance is enforced. AC: Tarife Draft â†’ Pending Approval â†’ Active. Onay olmadan yayÄ±nlanamaz. Onay User ve Timestamp ile kaydedilir."
                    },
                    {
                        id: "9.7",
                        title: "Tariff Preview per Flight",
                        description: "As a Billing User, I want to preview tariff per flight so that pricing is transparent. AC: UÃ§uÅŸ ekranÄ±nda kullanÄ±lan tarife, versiyonu, hesaplama detaylarÄ± gÃ¶rÃ¼nÃ¼r."
                    }
                ]
            },
            {
                id: 10,
                title: "EPIC 10 â€” Invoice Correction & Adjustment Management",
                description: "Provide a complete correction lifecycle where invoice issues are detected by the system or reported by customers, root causes are identified, tariffs are recalculated, and difference-only (adjustment) invoices are generated with full traceability and ERP integration. AmaÃ§: HatalÄ± faturayÄ± algÄ±lamak veya mÃ¼ÅŸteriden almak, kÃ¶k nedenini tespit etmek, tarife motorunu tekrar Ã§alÄ±ÅŸtÄ±rmak, yeni fatura Ã¼retmeden sadece fark faturasÄ± kesmek, ERP'ye doÄŸru kayÄ±t gÃ¶ndermek, sÃ¼reci denetlenebilir hale getirmek.",
                stories: [
                    {
                        id: "10.1",
                        title: "System-Based Change Detection",
                        description: "As a Billing System, I want to detect changes that affect invoicing so that incorrect bills are automatically flagged. AC: DeÄŸiÅŸiklik tetikleyicileri: Flight data update, Service usage change, Tariff update, Campaign update, Retro incentive activation. Sistem ilgili faturayÄ± POTENTIALLY_INCORRECT olarak iÅŸaretler."
                    },
                    {
                        id: "10.2",
                        title: "Root Cause Identification",
                        description: "As a Billing Analyst, I want to identify the reason for invoicing errors so that corrections are applied accurately. AC: KÃ¶k neden tipleri: Service entry error, Tariff misconfiguration, Campaign misfire, External data mismatch, ERP mapping issue."
                    },
                    {
                        id: "10.3",
                        title: "Controlled Data Correction",
                        description: "As a Billing Admin, I want to update only faulty fields so that recalculation becomes accurate. AC: DÃ¼zeltilebilir alanlar: Flight attributes (PAX, times, aircraft type), Service usage (quantity, duration, equipment), Tariff rules & parameters."
                    },
                    {
                        id: "10.4",
                        title: "Delta Recalculation Engine",
                        description: "As a Billing Engine, I want to recalculate only affected services so that the difference is computed. AC: KullanÄ±cÄ± invoice seÃ§er veya tarih aralÄ±ÄŸÄ± belirler, sistem sadece etkilenen usage'larÄ± tekrar Ã§alÄ±ÅŸtÄ±rÄ±r, orijinal fatura korunur."
                    },
                    {
                        id: "10.5",
                        title: "Adjustment Usage Creation",
                        description: "As a Billing System, I want to create adjustment records so that differences are billed correctly. AC: Adjustment positive/negative olabilir, her adjustment orijinal servis ile baÄŸlÄ±dÄ±r."
                    },
                    {
                        id: "10.6",
                        title: "Invoice Mapping & ERP Linkage",
                        description: "As a Billing System, I want to link adjustments to original invoices so that accounting remains consistent. AC: ERP'ye adjustment ayrÄ± belge gider, original invoice ID referans alÄ±nÄ±r."
                    },
                    {
                        id: "10.7",
                        title: "Adjustment Approval Workflow",
                        description: "As a Billing Manager, I want to approve corrections so that financial control is enforced. AC: Durumlar: Draft, Submitted, Approved, Sent to ERP."
                    },
                    {
                        id: "10.8",
                        title: "Evidence & Attachment Management",
                        description: "As a Billing User, I want to attach supporting documents so that adjustments are justified. AC: Dosya tÃ¼rleri: PDF, Excel, image. Her belge adjustment'a baÄŸlanÄ±r."
                    },
                    {
                        id: "10.9",
                        title: "Customer Invoice Dispute via Web Portal",
                        description: "As a Customer, I want to dispute invoices online so that corrections can be initiated. AC: Invoice ekranÄ±nda 'Raise Dispute' butonu, mÃ¼ÅŸteri sebep seÃ§er, aÃ§Ä±klama yazar, kanÄ±t yÃ¼kler, status: SUBMITTED."
                    },
                    {
                        id: "10.10",
                        title: "Dispute Review & Decision",
                        description: "As a Billing User, I want to handle disputes so that outcomes are controlled. AC: Dispute statÃ¼leri: SUBMITTED, UNDER REVIEW, ACCEPTED, REJECTED, ADJUSTMENT CREATED."
                    },
                    {
                        id: "10.11",
                        title: "Customer Notification & Tracking",
                        description: "As a Customer, I want to track dispute progress so that I stay informed. AC: Portal durum gÃ¶sterimi, bildirim: Email / in-app."
                    },
                    {
                        id: "10.12",
                        title: "Adjustment Trigger After Dispute Resolution",
                        description: "As a Billing System, I want to create adjustments for approved disputes so that billing is corrected. AC: ACCEPTED â†’ otomatik adjustment oluÅŸturulur."
                    },
                    {
                        id: "10.13",
                        title: "Audit & Compliance",
                        description: "As an Auditor, I want to see the full lifecycle so that disputes and adjustments are provable. AC: Audit timeline: Invoice issued, Dispute submitted, Decision, Adjustment, ERP export."
                    }
                ]
            },
            {
                id: 11,
                title: "EPIC 11 â€” Service Form & Document Generation",
                description: "Enable dynamic service forms to be generated as PDF per customer for delivered services, with export support on web and mobile, and a flexible form designer to tailor layouts per customer. AmaÃ§: Hizmet verilen uÃ§uÅŸ iÃ§in servis formu Ã¼retmek, PDF Ã§Ä±ktÄ±sÄ± almak, mobil ve web'den dÄ±ÅŸa aktarmak, mÃ¼ÅŸteri bazlÄ± tasarÄ±m yapmak, ÅŸablonlarÄ± konfigÃ¼rasyonla yÃ¶netmek.",
                stories: [
                    {
                        id: "11.1",
                        title: "Service Form Template Management (Per Customer)",
                        description: "As a Billing Admin, I want to create form templates per customer so that each customer can have custom layout. AC: Her mÃ¼ÅŸteri iÃ§in birden fazla template tanÄ±mlanabilir, template Active/Draft/Archive durumuna sahiptir, template versiyonludur, uÃ§uÅŸa hangi template uygulanacaÄŸÄ± seÃ§ilebilir."
                    },
                    {
                        id: "11.2",
                        title: "Form Designer (Drag & Drop Editor)",
                        description: "As a Billing Admin, I want to design service forms visually so that no developer work is required. AC: Drag & drop alanlar (Text, Table, Barcode/QR, Logo), data binding (Flight fields, Service fields, Customer fields), Ã¶nizleme mevcuttur."
                    },
                    {
                        id: "11.3",
                        title: "Dynamic Field Mapping",
                        description: "As a System, I want to bind template fields to live data so that PDFs are filled automatically. AC: Alan eÅŸleÅŸtirme (Pax count, Service usage, Aircraft reg), hesaplanan alanlar desteklenir, boÅŸ alan uyarÄ±sÄ± gÃ¶sterilir."
                    },
                    {
                        id: "11.4",
                        title: "PDF Generation Engine",
                        description: "As a System, I want to generate forms as PDF so that documents are immutable. AC: PDF uÃ§uÅŸ bazÄ±ndadÄ±r ve servis bazlÄ±dÄ±r, watermark opsiyonu vardÄ±r, timestamp eklenir."
                    },
                    {
                        id: "11.5",
                        title: "Export from Web & Mobile",
                        description: "As a User, I want to export PDFs from web and mobile so that documents are portable. AC: Export Web UI ve Mobile app'ten yapÄ±labilir, dosya email ile gÃ¶nderilebilir veya download edilir."
                    },
                    {
                        id: "11.6",
                        title: "Digital Signature & Approval Stamp (Optional)",
                        description: "As a Billing User, I want to sign service forms digitally so that forms are official. AC: E-signature alanÄ±, signature log tutulur, IP/time kaydÄ±."
                    },
                    {
                        id: "11.7",
                        title: "Template Preview & Validation",
                        description: "As a Billing Admin, I want to preview and validate templates so that layouts are correct. AC: GerÃ§ek verilerle test, boÅŸ alan listesi, versiyon karÅŸÄ±laÅŸtÄ±rma."
                    },
                    {
                        id: "11.9",
                        title: "Form Versioning & History",
                        description: "As an Auditor, I want to see historical forms so that past documents are provable. AC: Her PDF template version ve tarih kaydÄ±yla saklanÄ±r."
                    },
                    {
                        id: "11.10",
                        title: "Branding & Localization",
                        description: "As a Billing Admin, I want to customize branding so that customer identity is reflected. AC: Logo, footer, dil seÃ§imi."
                    }
                ]
            },
            {
                id: 12,
                title: "EPIC 12 â€” ERP Send & Invoice Visibility",
                description: "Send ready bill lines from CMS to ERP, track ERP processing status, and display ERP-generated invoices in the billing system.",
                stories: [
                    {
                        id: "12.1",
                        title: "Send Bill Lines to ERP (Manual & Automatic)",
                        description: "As a Billing User / System, I want to send ready-to-bill line items to ERP manually or automatically so that invoices can be generated in ERP. AC: User can select flight(s) or invoice batch and click Send to ERP, system can automatically send based on configuration, only Approved/Unlocked/Complete bill lines can be sent, result is recorded: SUCCESS/FAILED. Example: TK215 flight is approved and ready, billing user clicks Send to ERP, ERP accepts the payload."
                    },
                    {
                        id: "12.2",
                        title: "ERP Status Tracking",
                        description: "As a Billing User, I want to see ERP processing status so that I know what is happening with invoices. AC: Displayed statuses: SENT, INVOICED, REJECTED, status auto-syncs from ERP. Example: ERP creates invoice, CMS shows status = INVOICED."
                    },
                    {
                        id: "12.3",
                        title: "ERP Invoice Display in CMS",
                        description: "As a Billing User, I want to view ERP-generated invoices inside CMS so that I do not need to log into ERP. AC: ERP sends invoice number and PDF, CMS displays PDF in viewer and links invoice to bill lines. Example: User opens CMS, clicks ERP Invoice â†’ PDF opens."
                    }
                ]
            },
            {
                id: 13,
                title: "EPIC 13 â€” Archiving & Data Retention",
                description: "Store historical billing and operational records securely and allow users to retrieve archived data when needed. AmaÃ§: Eski verilerin sistemden gÃ¼venli ÅŸekilde arÅŸivlenmesi, performansÄ±n korunmasÄ±, gerektiÄŸinde geÃ§miÅŸ kayÄ±tlara eriÅŸim.",
                stories: [
                    {
                        id: "13.1",
                        title: "Archive Billing Data",
                        description: "As a System, I want to archive old billing records so that the active system remains fast. AC: ArÅŸivlenebilen veriler: Invoices, Bill lines, Adjustments. ArÅŸivleme tarih bazlÄ± veya manuel yapÄ±labilir."
                    },
                    {
                        id: "13.2",
                        title: "Archive Retrieval",
                        description: "As a Billing User, I want to search archived records so that I can access old data. AC: KullanÄ±cÄ± tarih, customer, invoice no ile arama yapabilir."
                    },
                    {
                        id: "13.3",
                        title: "Archive Policy & Retention Rules",
                        description: "As an Admin, I want to configure retention period so that data lifecycle is controlled. AC: Saklama sÃ¼resi konfigÃ¼re edilebilir (Ã¶r: 3 yÄ±l, 5 yÄ±l), sÃ¼re dolunca manuel ya da otomatik silme."
                    }
                ]
            }
        ];

        // Function to render epics
        function renderEpics() {
            const container = document.getElementById('epicsContainer');
            
            if (epicsData.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ðŸ“‹</div>
                        <h2>HenÃ¼z Epic Eklenmedi</h2>
                        <p>Epics.docx dosyasÄ±ndan epic ve story verilerini ekleyin.</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = epicsData.map(epic => `
                <div class="epic-card" data-epic-id="${epic.id}">
                    <div class="epic-header">
                        <div class="epic-title-section">
                            <div class="epic-number">Epic ${epic.id}</div>
                            <h2 class="epic-title">${epic.title}</h2>
                            <p class="epic-description">${epic.description}</p>
                        </div>
                        <div class="epic-toggle">â–¼</div>
                    </div>
                    <div class="stories-container">
                        ${epic.stories.map(story => `
                            <div class="story-item">
                                <div class="story-title">
                                    <span class="story-number">Story ${story.id}</span>
                                    ${story.title}
                                </div>
                                <div class="story-description">${story.description}</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');

            // Add click handlers for epic headers
            document.querySelectorAll('.epic-header').forEach(header => {
                header.addEventListener('click', function() {
                    const epicCard = this.closest('.epic-card');
                    epicCard.classList.toggle('expanded');
                });
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            document.body.style.opacity = '1';
            renderEpics();
        });
    </script>
</body>
</html>


